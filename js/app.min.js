(()=>{"use strict";const t={};function e(t){return t.filter((function(t,e,r){return r.indexOf(t)===e}))}t.watcher=new class{constructor(t){this.config=Object.assign({logging:!0},t),this.observer,!document.documentElement.classList.contains("watcher")&&this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.classList.add("watcher"),this.scrollWatcherConstructor(document.querySelectorAll("[data-watch]"))}scrollWatcherConstructor(t){if(t.length){this.scrollWatcherLogging(`Прокинувся, стежу за об'єктами (${t.length})...`),e(Array.from(t).map((function(t){return`${t.dataset.watchRoot?t.dataset.watchRoot:null}|${t.dataset.watchMargin?t.dataset.watchMargin:"0px"}|${t.dataset.watchThreshold?t.dataset.watchThreshold:0}`}))).forEach((e=>{let r=e.split("|"),s={root:r[0],margin:r[1],threshold:r[2]},o=Array.from(t).filter((function(t){let e=t.dataset.watchRoot?t.dataset.watchRoot:null,r=t.dataset.watchMargin?t.dataset.watchMargin:"0px",o=t.dataset.watchThreshold?t.dataset.watchThreshold:0;if(String(e)===s.root&&String(r)===s.margin&&String(o)===s.threshold)return t})),a=this.getScrollWatcherConfig(s);this.scrollWatcherInit(o,a)}))}else this.scrollWatcherLogging("Сплю, немає об'єктів для стеження. ZzzZZzz")}getScrollWatcherConfig(t){let e={};if(document.querySelector(t.root)?e.root=document.querySelector(t.root):"null"!==t.root&&this.scrollWatcherLogging(`Эмм... батьківського об'єкта ${t.root} немає на сторінці`),e.rootMargin=t.margin,!(t.margin.indexOf("px")<0&&t.margin.indexOf("%")<0)){if("prx"===t.threshold){t.threshold=[];for(let e=0;e<=1;e+=.005)t.threshold.push(e)}else t.threshold=t.threshold.split(",");return e.threshold=t.threshold,e}this.scrollWatcherLogging("йой, налаштування data-watch-margin потрібно задавати в PX або %")}scrollWatcherCreate(t){this.observer=new IntersectionObserver(((t,e)=>{t.forEach((t=>{this.scrollWatcherCallback(t,e)}))}),t)}scrollWatcherInit(t,e){this.scrollWatcherCreate(e),t.forEach((t=>this.observer.observe(t)))}scrollWatcherIntersecting(t,e){t.isIntersecting?(!e.classList.contains("_watcher-view")&&e.classList.add("_watcher-view"),this.scrollWatcherLogging(`Я бачу ${e.classList}, додав клас _watcher-view`)):(e.classList.contains("_watcher-view")&&e.classList.remove("_watcher-view"),this.scrollWatcherLogging(`Я не бачу ${e.classList}, прибрав клас _watcher-view`))}scrollWatcherOff(t,e){e.unobserve(t),this.scrollWatcherLogging(`Я перестав стежити за ${t.classList}`)}scrollWatcherLogging(t){this.config.logging&&function(t){setTimeout((()=>{window.FLS&&console.log(t)}),0)}(`[Спостерігач]: ${t}`)}scrollWatcherCallback(t,e){const r=t.target;this.scrollWatcherIntersecting(t,r),r.hasAttribute("data-watch-once")&&t.isIntersecting&&this.scrollWatcherOff(r,e),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:t}}))}}({});let r=!1;setTimeout((()=>{if(r){let t=new Event("windowScroll");window.addEventListener("scroll",(function(e){document.dispatchEvent(t)}))}}),0),window.onload=function(){const t=document.querySelector(".parallax");if(t){const e=document.querySelector(".parallax__container"),r=document.querySelector(".images-parallax__clouds"),s=document.querySelector(".images-parallax__mountains"),o=document.querySelector(".images-parallax__human"),a=40,n=20,c=10,l=.05;let i=0,h=0,d=0,g=0;function u(){i+=(d-i)*l,h+=(g-h)*l,r.style.cssText=`transform: translate(${i/a}%, ${h/a}%)`,s.style.cssText=`transform: translate(${i/n}%, ${h/n}%)`,o.style.cssText=`transform: translate(${i/c}%, ${h/c}%)`,requestAnimationFrame(u)}u(),t.addEventListener("mousemove",(function(e){const r=t.offsetWidth,s=t.offsetHeight,o=e.pageX-r/2,a=e.pageY-s/2;d=o/r*100,g=a/s*100}));let f=[];for(let w=0;w<1;w+=.005)f.push(w);function m(t){e.style.cssText=`transform: translate(0%,-${t/9}%)`,s.parentElement.style.cssText=`transform: translate(0%,-${t/6}%)`,o.parentElement.style.cssText=`transform: translate(0%,-${t/3}%)`}new IntersectionObserver((function(e,r){m(window.pageYOffset/t.offsetHeight*100)}),{threshold:f}).observe(document.querySelector(".content-page"))}},window.FLS=!0,function(t){let e=new Image;e.onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}))})();